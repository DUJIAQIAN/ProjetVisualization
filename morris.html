<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="Dashboard">
  <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
  <title>Projet Visualisation</title>

  <!-- Favicons -->


  <!-- Bootstrap core CSS -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <!--external css-->
  <link href="lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.4.3.min.css">
  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet">
  <link href="css/style-responsive.css" rel="stylesheet">

  <script src="./lib/d3.js/d3.js"></script>
  <script src="./lib/PapaParse-4.6.0/papaparse.min.js"></script>

  <!-- =======================================================
    Template Name: Dashio
    Template URL: https://templatemag.com/dashio-bootstrap-admin-template/
    Author: TemplateMag.com
    License: https://templatemag.com/license/
  ======================================================= -->
</head>

<body>
  <section id="container">
    <!-- **********************************************************************************************************************************************************
        TOP BAR CONTENT & NOTIFICATIONS
        *********************************************************************************************************************************************************** -->
    <!--header start-->
    <header class="header black-bg">
      <!--logo start-->
      
      <div class="col-lg-6">
          <a class="logo"><b>PROJET<span>VISUALISATION </span></b></a>
      </div>
      <div class="col-lg-6">
          <div class="col-lg-3">
              <a class="logo"><b>Jiaqian<span>DU</span></b></a>
          </div>
          <div class="col-lg-4">
              <a class="logo"><b>Demont<span>ZHANG</span></b></a>
          </div>
          <div class="col-lg-4">
              <a class="logo"><b>Yves<span>OBAME EDOU</span></b></a>
          </div>
        
      </div>

    </header>
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
      <section class="wrapper site-min-height">
        <!-- page start-->
        <div id="morris">
          <div class="row mt">
              <div class="col-xl-12">
                  <div class="col-lg-11">
                      <form name="form1" id="form1">
                              Selectionner une ann√©e:
                              <select id="mySelect" name="mySelect">
                                  <option value="2013">2013</option>
                                  <option value="2014">2014</option>
                                  <option value="2015">2015</option>
                                  <option value="2016">2016</option>
                                  <option value="2017">2017</option>
                                  <option value="2018">2018</option>
                              </select>
                              <input type="button" onclick="getIndex()" value="Submit">
                          </form>
                  </div> 
              </div>
            <div class="col-lg-12">
              <div class="content-panel">
                <h4><i class="fa fa-angle-right"></i> Chart Example 1</h4>
                <div class="panel-body">
                  <div id="treemap" ></div>
                </div>
              </div>
            </div>
          </div>
          <div class="row mt">
            <div class="col-lg-6">
                  <div class="content-panel">
                    <h4><i class="fa fa-angle-right"></i> Chart Example 2</h4>
                    <div class="panel-body">
                      <div id="barchart"></div>
                    </div>
                  </div>
              </div>
            <div class="col-lg-6">
              <div class="content-panel">
                <h4><i class="fa fa-angle-right"></i> Chart Example 3</h4>
                <div class="panel-body">
                  <div id="linechart"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- page end-->
      </section>
    </section>
  </section>


  <script src="traitement.js"></script>
  <script src="graph_bar.js"></script>
  <script src="graph_line.js"></script>
  <script src="graph_treemap.js"></script>

  <script>
      function getIndex() {
          var s = document.getElementById("mySelect");
          var select_value = s.options[s.selectedIndex].value;
          Papa.parse('./data_v4.csv', {
              download: true,
              header: true,
              dynamicTyping: true,
              fastmode:true,
              complete: function (results) {
                  var data = results.data;
                  var barData = computeDataBarChart(data, select_value);
                  console.log(barData);
                  barChart(barData, 10);

                  var lineData = computeDataLineChart(data, select_value);
                  console.log(lineData)
                  lineChart(lineData);

                  var treemapData = computeDataTreemap(data, select_value);
                  treemap_graphic(treemapData, select_value);
              }
          });
      } 
      getIndex();
  </script>

  <!-- js placed at the end of the document so the pages load faster -->
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script class="include" type="text/javascript" src="lib/jquery.dcjqaccordion.2.7.js"></script>
  <script src="lib/jquery.scrollTo.min.js"></script>
  <script src="lib/jquery.nicescroll.js" type="text/javascript"></script>
  <script src="lib/raphael/raphael.min.js"></script>
  <script src="lib/morris/morris.min.js"></script>
  <!--common script for all pages-->
  <script src="lib/common-scripts.js"></script>
  <!--script for this page-->
  <script src="lib/morris-conf.js"></script>

</body>

</html>
