<!Doctype html >
<html>

<head>
    <meta charset=" UTF-8 ">
    <title> index </title>
    <script src="./lib/d3.js/d3.js"></script>
    <script src="./lib/PapaParse-4.6.0/papaparse.min.js"></script>
    <!-- <style>

        .axis {
          font: 10px sans-serif;
        }
    
        .axis path,
        .axis line {
          fill: none;
          stroke: #000;
          shape-rendering: crispEdges;
        }
    
        </style> -->
</head>

<body>
    <script src="traitement.js"></script>
    <script src="graph_yves.js"></script>
    <script></script>
    <script>
        // Organiser le structure de donn√©es
        var annee = ["2013", "2014", "2015", "2016", "2017", "2018"];
        var mois = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"]
        Papa.parse('./data_v4.csv', {
            download: true,
            header: true,
            complete: function (results) {
                var data = results.data;
                //var reData = traitement(data)["2018"];
                console.log("papaparse");
                console.log(data);

                //var barChartData = traitementDonneesBarChart(reData);
                //console.log(barChartData); 
                //chart(barChartData,10);
                var nested_data = d3.nest()
                .key(function(d) { return d.Date; })
                .key(function(d) { return d["Type d'objets"]; })
                .entries(data);

                console.log("nest");
                console.log(nested_data);
                }
        });
        
    </script>

    <script>
        /* d3.csv("./data_v4.csv").then(data=>{
            console.log("d3");
            console.log(data);

            var nested_data = d3.nest()
            .key(function(d) { return d.Date; })
            .key(function(d) { return d.Gare; })
            .entries(data);

            console.log("nest");
            console.log(nested_data);
        }); */
    </script>

    <script>
        
    </script>
</body>

</html>