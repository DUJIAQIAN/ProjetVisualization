<!DOCTYPE html>
<meta charset="utf-8">
<head>
        <meta charset=" UTF-8 ">
        <title> index </title>
        <script src="./lib/d3.js/d3.min.js"></script>
        <script src="./lib/PapaParse-4.6.0/papaparse.min.js"></script>
</head>


<body>
    <script>

        //Traitement des donn√©es 
        Papa.parse('./data_v4.csv', {
            download: true,
            header: true,
            dynamicTyping: true,
            fastmode:true,
            complete: function(results) {
                var data = results.data;
                //console.log(data);
                

                let nest_annee = d3.nest()
                    .key(function(d){return d.Annee})
                    .object(data);
                //console.log(nest_annee)

                let nest_mois = d3.nest()
                    .key(function(d){return d.Date})
                    .rollup(function(v) { return v.length; })
                    .entries(nest_annee["2018"]);

                //console.log(nest_mois);


                /*var list = d3.select("#choixAnnee").append("select")

                list.selectAll("option")
                .data(nest_annee)
                .enter()
                .append("option")
                .attr("value", function(d) {return d.key;})
                .text(function(d) {
                return d.key; });*/

                
            }
        });
    </script>

    <div id="choixAnnee"></div>
    
</body> 